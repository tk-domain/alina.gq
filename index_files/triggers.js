(function(){'use strict';function a(){n=window.RCRMT={},n.run=function(a,b){a.priority?(p.push({params:a,callback:b}),setTimeout(i,20)):j(a,b)},n.push=function(){c([].slice.call(arguments).reverse())},n.addEventListener=function(a,b){s.addEventListener(a,b,!1)},n.removeEventListener=function(a,b){s.removeEventListener(a,b,!1)},n.openModal=function(a){k(a),document.querySelector(a.closeButton).onclick=function(){l(a.container),a.closeCallback&&a.closeCallback()},m(a)}}function b(a,b){s.dispatchEvent(new t(a,{detail:b,bubbles:!1,cancelable:!1}))}function c(a){a.forEach(function(a){a(n)})}function d(a){return'RCRMT_'+a}function e(a){var b=null;try{b=localStorage.getItem(d(a)),b&&(b=JSON.parse(b))}catch(c){b=r[a]}return b}function f(a,b){try{localStorage.setItem(d(a),JSON.stringify(b))}catch(c){r[a]=b}}function g(a){try{return document.cookie.split(';').reduce(function(a,b){var c=b.trim().split('=');return a[c[0]]=c[1]||'',a},{})[d(a)]}catch(a){}}function h(a,b){document.cookie=d(a)+'='+b}function j(a,b){var c=a.freq||3600,d=!1,i=Date.now();if('session'===c)d=null==g(a.key);else{var j=e(a.key);d=!j||j+1e3*a.freq<i}if(d){var k=b();(k||!a.checkCallbackResponse)&&('session'===c?h(a.key,''):f(a.key,i))}}function i(){if(p.length){var a={};p.forEach(function(b){var c=(b.params.priorityKey||'COMMON')+':PRIORITY';a[c]||(a[c]=[]),a[c].push({params:b.params,callback:b.callback})}),Object.keys(a).forEach(function(b){for(var c=a[b].sort(function(a,b){return b.params.priority-a.params.priority}),d=0;d<c.length;d++){var e=!1,f=c[d];if(j({key:b,freq:f.params.priorityFreq,checkCallbackResponse:!0},function(){return j({key:f.params.key,freq:f.params.freq},function(){e=!0,f.callback()}),e}),e)break}}),p=[]}}function k(a){function b(a,b){return a.some(function(a){return a===b})}function c(a){return b(['top','center','bottom'],a)}function d(a){return b(['left','center','right'],a)}var e,f;try{e=document.querySelector(a.parent),f=document.querySelector(a.container)}catch(a){}if(!e)throw new Error('\u0420\u043E\u0434\u0438\u0442\u0435\u043B\u044C \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D! \u041F\u0440\u043E\u0432\u0435\u0440\u044C\u0442\u0435 \u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u043E\u0441\u0442\u044C \u043F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u0430 parent');if(!f)throw new Error('\u041C\u043E\u0434\u0430\u043B\u044C\u043D\u043E\u0435 \u043E\u043A\u043D\u043E \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u043E! \u041F\u0440\u043E\u0432\u0435\u0440\u044C\u0442\u0435 \u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u043E\u0441\u0442\u044C \u043F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u0430 container');if(!a.position.length&&8>a.position.length)throw new Error('\u041F\u043E\u0437\u0438\u0446\u0438\u044F \u0432\u043D\u0443\u0442\u0440\u0435\u043D\u043D\u0435\u0433\u043E \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430 \u0437\u0430\u0434\u0430\u043D\u0430 \u043D\u0435\u0432\u0435\u0440\u043D\u043E!');var g=a.position.split(' ');if(2===g.length){var h,i;if(c(g[0])&&d(g[1]))h=g[0],i=g[1];else if(d(g[0])&&c(g[1]))i=g[0],h=g[1];else throw new Error('\u0417\u0430\u0434\u0430\u043D\u044B \u043D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u043F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u044B \u043F\u043E\u0437\u0438\u0446\u0438\u043E\u043D\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u044F!');f.classList.add('rcrmt-vertical-position-'+h),f.classList.add('rcrmt-horizontal-position-'+i),'fixed'!=getComputedStyle(f).position&&(f.style.position='fixed'),e.appendChild(f)}else throw new Error('\u041F\u043E\u0437\u0438\u0446\u0438\u043E\u043D\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435 \u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430 \u0437\u0430\u0434\u0430\u0451\u0442\u0441\u044F \u0434\u0432\u0443\u043C\u044F \u0441\u043B\u043E\u0432\u0430\u043C\u0438. \u041F\u0440\u043E\u0432\u0435\u0440\u044C\u0442\u0435 \u043F\u0430\u0440\u0430\u043C\u0435\u0442\u0440 position')}function l(a){var b=document.querySelector(a);b&&(b.style.display='none')}function m(a){if('string'!=typeof a.href||10>a.href.length)throw new Error('\u041D\u0435\u0432\u0430\u043B\u0438\u0434\u043D\u0430\u044F \u0441\u0441\u044B\u043B\u043A\u0430');var b=document.querySelector(a.actionButton);b.href=a.href,b.target||(b.target='_blank'),a.container&&(b.onclick=function(){l(a.container),a.actionCallback&&a.actionCallback()})}var n,o=window.RCRMT||[],p=[],q=-1!==navigator.userAgent.indexOf('Trident'),r={};q&&function(){function a(a,b){b=b||{bubbles:!1,cancelable:!1,detail:void 0};var c=document.createEvent('CustomEvent');return c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail),c}return'function'!=typeof window.CustomEvent&&void(a.prototype=window.Event.prototype,window.CustomEvent=a)}();var s=document.createElement('div'),t=window.CustomEvent||function(a,b){b=b||{bubbles:!1,cancelable:!1,detail:void 0};var c=document.createEvent('CustomEvent');return c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail),c};(window.RCRMT===void 0||Array.isArray(window.RCRMT))&&(a(),c(o),function(){var a=!1;document.documentElement.addEventListener('mouseout',function(c){c.clientY<20&&!a&&(a=!0,b('leaveSite'),setTimeout(function(){a=!1},1e3))},!0)}())})();