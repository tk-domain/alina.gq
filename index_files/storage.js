!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/rambler-id-helper/",r(r.s=11)}([function(e,t,r){"use strict";r.d(t,"f",function(){return n}),r.d(t,"g",function(){return o}),r.d(t,"e",function(){return i}),r.d(t,"b",function(){return u}),r.d(t,"a",function(){return c}),r.d(t,"d",function(){return a}),r.d(t,"c",function(){return d}),r.d(t,"h",function(){return f});var n="ramblerIdHelper",o=n+"Raven",i="https://id.rambler.ru",u="Rambler::Id::get_profile_info",c="Rambler::Id::destroy_session",a="Rambler::Id::get_variti_url",d="Rambler::Id::Aux::get_rsidx",f=[-11,-4e3,-2e3,-2002,"api does not respond","location does not respond"]},function(e,t,r){"use strict";r.d(t,"a",function(){return o}),r.d(t,"c",function(){return i}),r.d(t,"b",function(){return u});var n=["login","oauthlogin","logout"],o=function(e){return n.indexOf(e)>-1},i=function(e){return"[object Object]"===Object.prototype.toString.call(e)},u=function(e){return"function"==typeof e}},function(e,t,r){"use strict";r.d(t,"a",function(){return o});var n=r(3);function o(e){if(e.__raven__)return e;function t(){try{for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return e.apply(this,r)}catch(e){Object(n.a)(function(t){t.captureException(e)})}}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t.__raven__=!0,t}},function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r(5),o=r(4),i=r(0),u=Object({NODE_ENV:"production",STAGE_ENV:"production",COMMIT:"39f80411a1b4c77510992b49a82c2da5df63a8de",VERSION:"v-0.16.1",DEPRECATE:void 0}),c=u.COMMIT,a=u.VERSION,d=u.STAGE_ENV,f=void 0;function s(e){"production"!==d&&"testing"!==d||(f?e(f):Object(o.a)(i.e+"/rambler-id-helper/raven.js?"+c,function(t){f?e(f):t||((f=window[i.g]).config(n.SENTRY_API,{logger:"helper",environment:d,release:a,tags:{git_commit:c},whitelistUrls:[/https?:\/\/id\.rambler\.ru\/rambler-id-helper\//],includePaths:[/https?:\/\/id\.rambler\.ru\/rambler-id-helper\//]}),delete window[i.g],e(f))}))}},function(e,t,r){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=document.createElement("script");r.src=e,r.onload=function(){t(null),document.body&&document.body.removeChild(r)},r.onerror=function(e){t(e)},document.body&&document.body.appendChild(r)}r.d(t,"a",function(){return n})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.EMPTY_DATE=-4000000001,t.TEST_COOKIE="checkIdCookies",t.AUTH_COUNTER_COOKIE="rcounts",t.SENTRY_API="https://06d2d05ae45943c6b93c2bd7819aa0bd@id.rambler.ru/2"},,function(e,t,r){"use strict";e.exports.get=function(e){if(document.cookie&&document.cookie.length){for(var t,r=document.cookie.split(";"),n={},o=0,i=r.length;o<i;o++)n[(t=r[o].replace(/^(\s|\u00A0)+/g,"").split("="))[0]]=decodeURIComponent(t[1]);return e?n[e]:n}},e.exports.set=function(e,t,r){if(void 0!==e&&void 0!==t){var n=(r=r||{}).expires||{};"number"==typeof r.expires&&(n=new Date).setTime(n.getTime()+24*r.expires*60*60*1e3);var o=e+"="+encodeURIComponent(t);return o+=n.toUTCString?"; expires="+n.toUTCString():"",o+=r.path?"; path="+r.path:"",o+=r.domain?"; domain="+r.domain:"",o+=r.secure?"; secure":"",document.cookie=o,o}},e.exports.remove=function(t,r){return(r=r||{}).expires=-1,e.exports.set(t,"",r)}},,,,function(e,t,r){"use strict";r.r(t);var n=r(7),o=r.n(n),i=r(2),u=r(0),c=r(1),a=navigator.userAgent.toLowerCase(),d=!(/(msie|trident|edge)/.test(a)||/safari/.test(a)&&!/chrome/.test(a));var f=window.parent,s=void 0,l=void 0,p=Object(i.a)(function(){d?window.addEventListener("storage",v,!1):(s=o.a.get(u.f),setInterval(function(){var e=o.a.get(u.f);s!==e&&(s=e,v({key:u.f,newValue:e}))},1e3))}),v=Object(i.a)(function(e){var t=e.key,r=e.newValue;if(t===u.f){var n=void 0;try{(n=JSON.parse(r)).emitter=u.f}catch(e){}f.postMessage(n,l)}}),b=Object(i.a)(function(e){var t=e.data;if(Object(c.c)(t)){var r=t.emitter,n=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(t,["emitter"]);if(r===u.f){if("install"===n.eventType)return l=n.data.providerOrigin,void p();var i=JSON.stringify(n);if(d)try{window.localStorage.setItem(u.f,i)}catch(e){}else o.a.set(u.f,i,{domain:".rambler.ru",path:"/"})}}});window.addEventListener("message",b,!1)}]);
//# sourceMappingURL=storage.js.map?39f80411a1b4c77510992b49a82c2da5df63a8de